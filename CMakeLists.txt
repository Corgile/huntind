CMAKE_MINIMUM_REQUIRED(VERSION 3.25)
PROJECT(hound-torch)
SET(CMAKE_CXX_STANDARD 20)
SET(TARGET hd-torch-kafka)

# !>> vendor
#SET(VENDOR_PATH ${PROJECT_SOURCE_DIR}/vendor)
#SET(CMAKE_MODULE_PATH ${VENDOR_PATH}/cmake;${CMAKE_MODULE_PATH})
#INCLUDE(third-party)
# !<< vendor
MESSAGE(STATUS "${BoldCyan}Binary Target:  ${TARGET}${ColorReset}")
ADD_COMPILE_DEFINITIONS(HD_LOG_DEBUG)

INCLUDE_DIRECTORIES(${PROJECT_SOURCE_DIR}/include)
INCLUDE_DIRECTORIES(${PROJECT_SOURCE_DIR}/include/yalanting/include)
INCLUDE_DIRECTORIES(${PROJECT_SOURCE_DIR}/include/yalanting/include/ylt/thirdparty)

LIST(APPEND CMAKE_PREFIX_PATH ${TORCH_PATH})
FIND_PACKAGE(Torch REQUIRED)
MESSAGE(STATUS "Torch 链接库:  ${TORCH_LIBRARIES}")
MESSAGE(STATUS "Torch 头文件:  ${TORCH_INCLUDE_DIRS}")

INCLUDE_DIRECTORIES(${PROJECT_SOURCE_DIR}/include ${TORCH_INCLUDE_DIRS})

ADD_SUBDIRECTORY(${PROJECT_SOURCE_DIR}/source)

ADD_EXECUTABLE(${TARGET} main.cpp ${SOURCE_FILES})
TARGET_LINK_LIBRARIES(${TARGET} PRIVATE hd_source)